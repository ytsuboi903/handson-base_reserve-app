# Agentic AI Coding ハンズオンセッション

## 📋 セッション概要

**セッション名**: Agentic AI Coding ハンズオンセッション  
**所要時間**: 60分  
**形式**: 4グループ並列実施（最大5グループまで可）、各グループ4〜6名  
**統一テーマ**: 予約管理システムに「予約通知機能」を追加する

---

## 🎯 セッションの目的

**AIを活用した開発プロセスを体験する**
  - 設計 → 実装 → 検証の一連の流れを体験
  - AIがどのように開発をサポートするかを理解
    - **Agentic AI Codingにおいて、インストラクションやプロンプトの質がコーディングタスクや成果物としてのコードの質に直接影響することを理解する**
      - インストラクションファイル（`.github/copilot-instructions.md`）の重要性
      - 具体的で明確なプロンプトを書くことの重要性
    - **テストコードがAIへの「設計図」や「仕様書」として機能することを理解する**
      - テストコードを作成させることで、AIに「何を実装すべきか」を明確に伝えられる
      - テストコードは、期待される動作を具体的に示す「ガイド」として機能する

---

## 👥 ターゲット層

- 業務でExcel/Word中心なエンジニア（コードに触らない）
- 極めて狭い分野のエンジニア（基盤の一部のみ経験等）
- **重要**: 難しすぎない内容、体験による実践知の獲得

---

## 🏗️ 統一テーマ: 予約管理アプリに予約通知機能の追加

### 機能概要
作成済みの予約管理アプリに対し、予約が作成・更新・キャンセルされた際に、顧客に通知を送信する機能を追加します。

### 実装する機能
1. **通知送信ロジック**
   - 予約作成時の通知
   - 予約更新時の通知
   - 予約キャンセル時の通知

2. **通知履歴の記録**
   - 送信した通知の履歴を保存
   - 通知の送信状態を管理

3. **通知一覧の表示（フロントエンド）**
   - 送信された通知の一覧を表示
   - 通知の詳細を確認

### 技術的なポイント
- **バックエンド**: 既存の`BookingService`に通知ロジックを追加
- **フロントエンド**: 通知一覧を表示するコンポーネントを追加
- **テスト**: 通知送信のテストを先に作成し、AIにロジックを完成させる

---

## ⏰ タイムライン（60分）

### Phase 1: 導入・説明（10分）

#### 0:00 - 2:00 オープニング
- セッションの目的と流れの説明
- Agentic AI Codingとは何か
- 今日作成する機能の紹介

#### 2:00 - 5:00 環境確認
- VS CodeとCopilotの確認
- プロジェクトの起動確認
- 既存機能のデモ（予約作成、一覧表示など）

#### 5:00 - 10:00 開発フローの説明
- 設計 → 実装 → 検証の流れ
- AIへの指示の仕方（プロンプトエンジニアリングの基礎）
- **Agentic AI Codingにおける指示の質の重要性**
  - インストラクションファイル（`.github/copilot-instructions.md`）がコード生成の品質に影響する
  - 具体的で明確なプロンプトを書くことで、より良いコードが生成される
- **テストコードの重要性（AIへの「設計図」や「仕様書」としての役割）**
  - テストコードを先に作成することで、AIに「何を実装すべきか」を明確に伝えられる
  - テストコードは、期待される動作を具体的に示す「ガイド」として機能する
  - テストコードがあることで、AIは実装すべき機能の仕様を理解できる

---

### Phase 2: 設計フェーズ（5分）

#### 10:00 - 15:00 要件の整理
**タスク**: グループで「予約通知機能」の要件を整理する

**確認事項**:
- 通知には何を含めるか？（予約情報、リソース情報など）
- 通知の表示方法は？（予約一覧からモーダル表示）

**成果物**: 要件リスト（テキストファイルに箇条書きでOK）

---

### Phase 3: 実装フェーズ（40分）

**重要**: このプロジェクトには、テストコードの実装ルールを定義した**インストラクションファイル**が用意されています。
- `.github/copilot-instructions.md` - GitHub Copilot用のインストラクションファイル

Copilotは自動的にこれらのファイルを参照して、一貫したテストコードを生成します。

**実装方針**: 設計フェーズで整理した要件リストの各項目に対して、「実装 → テスト → 検証」のサイクルを繰り返します。

---

#### 要件1: 予約作成時の通知

**Copilotへの指示例**:
```
予約管理アプリに予約通知機能を追加します。
予約一覧画面に通知一覧を用意し、予約作成時に追加したいです。
一覧には「予約作成完了」というタイトルとともに、開始・終了時刻とリソースを含めます。
まずバックエンドを実装してください。

テストコードを用意し、以下のテストケースを追加してください。
- 予約作成時に通知データが作成されること
- 通知データには、作成時の通知であること、作成された予約の開始・終了時刻・リソースが含まれていること
- 予約一覧に通知が表示されること

テストを実行し、成功したら完了してください。失敗した場合は原因調査と修正を行い、成功するまで続けてください。
```
reference: README.md

---

#### 画面(フロントエンド)の実装

要件1を完了したら、画面(フロントエンド)を実装します。

**Copilotへの指示例**:
```
フロントエンドを実装してください。
- 予約一覧画面に通知一覧リンクを表示
- 通知一覧リンクをクリックでモーダルを表示し、そこに通知一覧を表示
- 通知一覧は日付でフィルタリング可能

テストコードを用意してテストを実施してください。成功したら完了してください。失敗した場合は原因調査と修正を行い、成功するまで続けてください。
```

---

#### 検証

フロントエンドの実装が完了したら、OpenShiftにデプロイして検証します。

1. コードをコミット・プッシュしてOpenShiftにデプロイ
2. OpenShift上のアプリケーションで動作を確認

---

#### 要件2,3: 時間があれば実施（オプション）

フロントエンドの実装が完了し、時間に余裕がある場合は、同じサイクルで以下の要件に順次着手してください：

- **要件2: 予約更新時の通知**
- **要件3: 予約キャンセル時の通知**

各要件の実装では、既存の実装パターンを参考にし、「実装 → テスト → 検証（OpenShift）」のサイクルを繰り返してください。

---

### Phase 4: 振り返り（5分）

#### 55:00 - 60:00 まとめ
- 今日体験したことの振り返り
  - 参加者一人一人が、本ハンズオンで得たこと、それを次どのように活かしていくかを1枚の紙に書き出す→お土産
- 質疑応答

---

## 🛠️ 技術スタック

### 開発環境
- **IDE**: VS Code
- **AI**: GitHub Copilot（フリー枠: 1時間に約90リクエスト）
- **言語**: Java（バックエンド）、TypeScript（フロントエンド）

### 前提技術
- Java 17+
- Spring Boot 3.2+
- React 18+
- TypeScript
- Maven
- npm

---

## 複数チーム同時実施について

このプロジェクトは、複数のチームが同時にハンズオンを実施できるよう設計されています。各チームは独立したOpenShiftプロジェクトで作業するため、コード変更を共有する必要はありません。

詳細は [MULTI_TEAM_GUIDE.md](./MULTI_TEAM_GUIDE.md) を参照してください。

### クイックスタート（複数チーム）

1. チームごとにブランチを作成:
   ```bash
   git checkout -b team1-sandbox  # チーム1
   git checkout -b team2-sandbox  # チーム2
   ```

2. ブランチをプッシュ:
   ```bash
   git push origin team1-sandbox
   ```

3. GitHub Actionsが自動的に各チーム専用のOpenShiftプロジェクトにデプロイします。

---

## OpenShiftへのデプロイ

コードを変更してGitHubにpushすると、自動的にOpenShiftにデプロイされます。

### デプロイの流れ（概要）

1. **コードのpush**
   - `sandbox`ブランチや`team*-sandbox`ブランチにpush
   - GitHub Actionsワークフローが自動的にトリガー

2. **ビルド**
   - バックエンド: MavenでJavaアプリケーションをビルド
   - フロントエンド: npmでReactアプリケーションをビルド

3. **OpenShiftプロジェクトの準備**
   - ブランチ名からチーム識別子を抽出
   - 対応するOpenShiftプロジェクトを作成（存在しない場合）
   - 例: `team1-sandbox` → `booking-team1`プロジェクト

4. **OpenShiftリソースの適用**
   - BuildConfig（イメージビルド設定）
   - Deployment（アプリケーション配置）
   - Service（内部通信）
   - Route（外部アクセス）

5. **イメージのビルドとデプロイ**
   - OpenShiftの内部レジストリでコンテナイメージをビルド
   - ビルド完了後、Deploymentが自動的に新しいイメージを使用してアプリケーションを起動

6. **デプロイメントの確認**
   - Podが正常に起動するまで待機
   - ヘルスチェックでアプリケーションの状態を確認

7. **アプリケーションへのアクセス**
   - RouteのURLが自動生成され、ブラウザからアクセス可能

### 必要な設定

デプロイを有効にするには、GitHubリポジトリのSecretsに以下を設定する必要があります：

- `OPENSHIFT_SERVER`: OpenShiftクラスターのURL
- `OPENSHIFT_TOKEN`: OpenShiftの認証トークン

詳細は [.github/workflows/README.md](./.github/workflows/README.md) を参照してください。

---

## 環境のリセット

ハンズオン中に問題が発生した場合、環境を着手前の段階に戻すことができます。

**詳細は [RESET_ENVIRONMENT.md](./RESET_ENVIRONMENT.md) を参照してください。**

### クイックリセット（スクリプト使用）

```bash
# macOS/Linux
./reset-environment.sh

# Windows (PowerShell)
.\reset-environment.ps1
```

---

## 📝 アテンド担当および関係者向け動作確認方法

ハンズオン実施前に、ローカル環境での動作確認を行ってください。

**詳細は [HANDSON_PREPARATION.md](./HANDSON_PREPARATION.md) を参照してください。**

### 確認事項

- バックエンド・フロントエンドがローカル環境で正常に起動できること
- 既存機能（予約作成、一覧表示など）が動作すること
- GitHub Copilotが正常に動作すること

**注意**: OpenShift環境は予行実施およびハンズオン本番の当日のみ稼働しています。事前準備時点ではOpenShift環境は利用できません。
